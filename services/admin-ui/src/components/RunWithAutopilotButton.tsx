import React,{useState}from"react"
export default function RunWithAutopilotButton({type,payload={},label="Run with Autopilot"}:{type:string,payload?:Record<string,any>,label?:string}){const[l,s]=useState(false);const run=async()=>{try{s(true);const r=await fetch("/api/admin/autopilot/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type,payload})});if(!r.ok)throw new Error(await r.text());const d=await r.json();alert("Queued: "+d.id)}catch(e:any){alert("Failed: "+String(e))}finally{s(false)}};return <button onClick={run} disabled={l} style={{padding:"8px 12px",borderRadius:8,border:"1px solid #ccc"}}>{l?"Queuingâ€¦":label}</button>}
